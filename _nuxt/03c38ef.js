(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1291:function(e,t,r){"use strict";r.r(t);r(35),r(326),r(45);var o={layout:"admin",created:function(){this.$store.dispatch("admin/user/getUser",{current:1})},data:function(){return{show:{add:!1,edit:!1},form:{search:"",add:{name:null,account:null,password:null,server:0,expireTime:this.$moment(Date.now()+2592e6).format("YYYY-MM-DDTHH:mm:ss")},edit:{}},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:4,max:32,message:"长度在 4 到 32 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:32,message:"长度在 6 到 32 个字符",trigger:"blur"}],expireTime:{required:!0,message:"请选择有效期",trigger:"change"},server:{required:!0,message:"请选择服务器",trigger:"blur"}}}},methods:{add:function(){var e=this;this.$refs.add.validate((function(t){t&&(e.$store.dispatch("admin/user/addUser",e.form.add),e.show.add=!1)}))},edit:function(){var e=this;this.$refs.edit.validate((function(t){t&&(e.$store.dispatch("admin/user/editUser",e.form.edit),e.show.edit=!1)}))}}},n=r(57),component=Object(n.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("a-row",{attrs:{gutter:[16,16]}},[t("a-space",{staticClass:"float-left m-2"},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){e.show.add=!0}}},[e._v("新增")]),e._v(" "),t("a-button",{attrs:{ghost:"",type:"primary"},on:{click:function(t){return e.$store.dispatch("admin/user/refreshUser")}}},[e._v("刷新")])],1),e._v(" "),t("a-space",{staticClass:"float-right m-2"},[t("a-input",{attrs:{placeholder:"关键词"},model:{value:e.form.search,callback:function(t){e.$set(e.form,"search",t)},expression:"form.search"}}),e._v(" "),t("a-button",{attrs:{type:"primary"},on:{click:function(t){e.$store.commit("admin/user/setSearch",e.form.search),e.$store.dispatch("admin/user/searchUser",{current:1})}}},[e._v("\n        搜索\n      ")]),e._v(" "),t("a-button",{attrs:{type:"danger",ghost:""},on:{click:function(t){e.form.search="",e.$store.commit("admin/user/setSearch",e.form.search),e.$store.dispatch("admin/user/getUser",{current:1})}}},[e._v("\n        取消\n      ")])],1)],1),e._v(" "),t("a-row",[t("a-table",{staticClass:"rounded bg-white shadow",attrs:{size:"middle",columns:e.$store.state.admin.user.table.column,"data-source":e.$store.state.admin.user.data.user,scroll:{x:760},pagination:!1},scopedSlots:e._u([{key:"account",fn:function(r){return t("span",{on:{click:function(t){e.$copyText(r).then((function(){return e.$message.success("复制成功")}),(function(){return e.$message.error("复制失败")}))}}},[e._v("\n        "+e._s(r)+"\n      ")])}},{key:"sanity",fn:function(text,r){return t("span",{},[0===text&&"正常"===r.status?t("a-button",{attrs:{size:"small"},on:{click:function(t){e.$store.dispatch("admin/user/repairUser",r)&&(e.show.pay=!1)}}},[e._v("\n          修复\n        ")]):t("span",[e._v(e._s(text))])],1)}},{key:"status",fn:function(r){return t("span",{},[t("a-tag",{attrs:{color:e.$store.state.utils.color.admin.status[r]}},[e._v("\n          "+e._s(r)+"\n        ")])],1)}},{key:"action",fn:function(text,r){return t("span",{},[t("a-space",[t("a-button",{attrs:{ghost:"",size:"small",type:"primary"},on:{click:function(){e.form.edit=e.$copy(e.$store.state.admin.user.data.rawUser[r.key]),e.show.edit=!0}}},[e._v("\n            编辑\n          ")]),e._v(" "),t("a-button",{attrs:{ghost:"",size:"small",type:"danger"},on:{click:function(t){return e.$store.dispatch("admin/user/deleteUser",r)}}},[e._v("\n            删除\n          ")])],1)],1)}}])},[e._v(" "),e._v(" "),e._v(" "),e._v(" "),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("a-pagination",{staticClass:"flex items-center justify-center",attrs:{size:"small",total:e.$store.state.admin.user.page.total,current:e.$store.state.admin.user.page.current,pageSize:e.$store.state.admin.user.page.size},on:{change:function(t){e.form.search?e.$store.dispatch("admin/user/searchUser",{current:t}):e.$store.dispatch("admin/user/getUser",{current:t})}}})],1)])],1),e._v(" "),t("a-modal",{attrs:{title:"新增用户",okText:"确定",cancelText:"取消"},on:{ok:e.add},model:{value:e.show.add,callback:function(t){e.$set(e.show,"add",t)},expression:"show.add"}},[t("a-form-model",{ref:"add",attrs:{model:e.form.add,rules:e.rules,"label-col":{span:4},"wrapper-col":{span:16}}},[t("a-form-model-item",{attrs:{label:"昵称",prop:"name"}},[t("a-input",{model:{value:e.form.add.name,callback:function(t){e.$set(e.form.add,"name",t)},expression:"form.add.name"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"账号",prop:"account"}},[t("a-input",{model:{value:e.form.add.account,callback:function(t){e.$set(e.form.add,"account",t)},expression:"form.add.account"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[t("a-input",{model:{value:e.form.add.password,callback:function(t){e.$set(e.form.add,"password",t)},expression:"form.add.password"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"服务器",prop:"server"}},[t("a-radio-group",{model:{value:e.form.add.server,callback:function(t){e.$set(e.form.add,"server",t)},expression:"form.add.server"}},[t("a-radio",{attrs:{value:0}},[e._v(" 官服 ")]),e._v(" "),t("a-radio",{attrs:{value:1}},[e._v(" B服 ")])],1)],1),e._v(" "),t("a-form-model-item",{attrs:{label:"有效期",prop:"expireTime"}},[t("a-date-picker",{staticClass:"w-2/3",attrs:{"show-time":"",placeholder:"选择时间",format:"YYYY-MM-DDTHH:mm:ss"},model:{value:e.form.add.expireTime,callback:function(t){e.$set(e.form.add,"expireTime",t)},expression:"form.add.expireTime"}})],1)],1)],1),e._v(" "),e.form.edit.createTime?t("a-modal",{attrs:{title:"编辑用户",okText:"确定",cancelText:"取消"},on:{ok:e.edit},model:{value:e.show.edit,callback:function(t){e.$set(e.show,"edit",t)},expression:"show.edit"}},[t("a-form-model",{ref:"edit",attrs:{model:e.form.edit,rules:e.rules,"label-col":{span:4},"wrapper-col":{span:16}}},[t("a-form-model-item",{attrs:{label:"昵称",prop:"name"}},[t("a-input",{model:{value:e.form.edit.name,callback:function(t){e.$set(e.form.edit,"name",t)},expression:"form.edit.name"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"账号",prop:"account"}},[t("a-input",{model:{value:e.form.edit.account,callback:function(t){e.$set(e.form.edit,"account",t)},expression:"form.edit.account"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"密码",prop:"password"}},[t("a-input",{model:{value:e.form.edit.password,callback:function(t){e.$set(e.form.edit,"password",t)},expression:"form.edit.password"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"服务器",prop:"server"}},[t("a-radio-group",{model:{value:e.form.edit.server,callback:function(t){e.$set(e.form.edit,"server",t)},expression:"form.edit.server"}},[t("a-radio",{attrs:{value:0}},[e._v(" 官服 ")]),e._v(" "),t("a-radio",{attrs:{value:1}},[e._v(" B服 ")])],1)],1),e._v(" "),t("a-form-model-item",{attrs:{label:"有效期",prop:"expireTime"}},[t("a-date-picker",{staticClass:"w-2/3",attrs:{"show-time":"",placeholder:"选择时间",format:"YYYY-MM-DDTHH:mm:ss"},model:{value:e.form.edit.expireTime,callback:function(t){e.$set(e.form.edit,"expireTime",t)},expression:"form.edit.expireTime"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"冻结",prop:"freeze"}},[t("a-switch",{attrs:{checked:!!e.form.edit.freeze},on:{change:function(t){e.form.edit.freeze=t?1:0}}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"代理",prop:"agent"}},[t("a-input-number",{staticClass:"!w-24",model:{value:e.form.edit.agent,callback:function(t){e.$set(e.form.edit,"agent",t)},expression:"form.edit.agent"}})],1),e._v(" "),t("a-form-model-item",{attrs:{label:"作战次数",prop:"refresh"}},[t("a-space",[t("a-input-number",{staticClass:"!w-24",model:{value:e.form.edit.refresh,callback:function(t){e.$set(e.form.edit,"refresh",t)},expression:"form.edit.refresh"}}),e._v(" "),t("a-button",{attrs:{type:"primary",ghost:""},on:{click:function(t){return e.$store.dispatch("admin/user/startTask",e.form.edit)}}},[e._v("\n            立即作战\n          ")])],1)],1)],1),e._v(" "),t("a-collapse",[t("a-collapse-panel",{attrs:{header:"高级配置"}},[t("a-form-item",{attrs:{label:"功能配置"}},[t("a-row",[t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-purple-500",attrs:{checked:e.form.edit.config.daily.task},on:{change:function(t){e.form.edit.config.daily.task=t.target.checked}}},[e._v("\n                作战\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-blue-500",attrs:{checked:e.form.edit.config.daily.credit},on:{change:function(t){e.form.edit.config.daily.credit=t.target.checked}}},[e._v("\n                商店\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-green-500",attrs:{checked:e.form.edit.config.daily.friend},on:{change:function(t){e.form.edit.config.daily.friend=t.target.checked}}},[e._v("\n                好友\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-orange-500",attrs:{checked:e.form.edit.config.daily.activity},on:{change:function(t){e.form.edit.config.daily.activity=t.target.checked}}},[e._v("\n                活动\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-yellow-500",attrs:{checked:e.form.edit.config.daily.mail},on:{change:function(t){e.form.edit.config.daily.mail=t.target.checked}}},[e._v("\n                邮箱\n              ")])],1)],1)],1),e._v(" "),t("a-form-item",{attrs:{label:"招募配置"}},[t("a-row",[t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-red-500",attrs:{checked:e.form.edit.config.daily.offer.enable},on:{change:function(t){e.form.edit.config.daily.offer.enable=t.target.checked}}},[e._v("\n                招募\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-gray-500",attrs:{checked:e.form.edit.config.daily.offer.car},on:{change:function(t){e.form.edit.config.daily.offer.car=t.target.checked}}},[e._v("\n                小车\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-gray-500",attrs:{checked:e.form.edit.config.daily.offer.star4},on:{change:function(t){e.form.edit.config.daily.offer.star4=t.target.checked}}},[e._v("\n                四星\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-gray-500",attrs:{checked:e.form.edit.config.daily.offer.star5},on:{change:function(t){e.form.edit.config.daily.offer.star5=t.target.checked}}},[e._v("\n                五星\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-gray-500",attrs:{checked:e.form.edit.config.daily.offer.star6},on:{change:function(t){e.form.edit.config.daily.offer.star6=t.target.checked}}},[e._v("\n                六星\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-gray-500",attrs:{checked:e.form.edit.config.daily.offer.other},on:{change:function(t){e.form.edit.config.daily.offer.other=t.target.checked}}},[e._v("\n                其他\n              ")])],1)],1)],1),e._v(" "),t("a-form-item",{attrs:{label:"基建配置"}},[t("a-row",[t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-teal-500",attrs:{checked:e.form.edit.config.daily.infrastructure.shift},on:{change:function(t){e.form.edit.config.daily.infrastructure.shift=t.target.checked}}},[e._v("\n                排班\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-teal-500",attrs:{checked:e.form.edit.config.daily.infrastructure.deputy},on:{change:function(t){e.form.edit.config.daily.infrastructure.deputy=t.target.checked}}},[e._v("\n                副手\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-teal-500",attrs:{checked:e.form.edit.config.daily.infrastructure.harvest},on:{change:function(t){e.form.edit.config.daily.infrastructure.harvest=t.target.checked}}},[e._v("\n                收菜\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-teal-500",attrs:{checked:e.form.edit.config.daily.infrastructure.acceleration},on:{change:function(t){e.form.edit.config.daily.infrastructure.acceleration=t.target.checked}}},[e._v("\n                加速\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{staticClass:"!text-teal-500",attrs:{checked:e.form.edit.config.daily.infrastructure.communication},on:{change:function(t){e.form.edit.config.daily.infrastructure.communication=t.target.checked}}},[e._v("\n                线索\n              ")])],1)],1)],1),e._v(" "),t("a-form-item",{attrs:{label:"任务配置"}},[e._l(e.form.edit.config.daily.fight,(function(r,o){return t("a-space",[t("a-input",{model:{value:r.level,callback:function(t){e.$set(r,"level",t)},expression:"item.level"}}),e._v(" "),t("a-input-number",{model:{value:r.num,callback:function(t){e.$set(r,"num",t)},expression:"item.num"}}),e._v(" "),t("a-icon",{attrs:{type:"up-circle"},on:{click:function(t){return e.$up(e.form.edit.config.daily.fight,o)}}}),e._v(" "),t("a-icon",{attrs:{type:"close-circle"},on:{click:function(t){return e.$remove(e.form.edit.config.daily.fight,o)}}})],1)})),e._v(" "),t("a-button",{staticClass:"w-2/3",attrs:{type:"dashed"},on:{click:function(t){return e.form.edit.config.daily.fight.push({num:0,level:""})}}},[t("a-icon",{attrs:{type:"plus"}}),e._v(" "),t("span",[e._v("增加任务")])],1)],2),e._v(" "),t("a-form-item",{attrs:{label:"理智恢复"}},[t("a-space",[t("a-icon",{attrs:{type:"experiment"}}),e._v(" "),t("span",[e._v("药剂")]),e._v(" "),t("a-input-number",{staticClass:"w-16",model:{value:e.form.edit.config.daily.sanity.drug,callback:function(t){e.$set(e.form.edit.config.daily.sanity,"drug",t)},expression:"form.edit.config.daily.sanity.drug"}}),e._v(" "),t("a-icon",{attrs:{type:"medicine-box"}}),e._v(" "),t("span",[e._v("源石")]),e._v(" "),t("a-input-number",{staticClass:"w-16",model:{value:e.form.edit.config.daily.sanity.stone,callback:function(t){e.$set(e.form.edit.config.daily.sanity,"stone",t)},expression:"form.edit.config.daily.sanity.stone"}})],1)],1),e._v(" "),t("a-form-item",{attrs:{label:"时间配置"}},[t("a-row",[t("a-col",{attrs:{span:6}},[t("a-checkbox",{attrs:{checked:e.form.edit.active.monday.enable},on:{change:function(t){e.form.edit.active.monday.enable=t.target.checked}}},[e._v("\n                周一\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{attrs:{checked:e.form.edit.active.tuesday.enable},on:{change:function(t){e.form.edit.active.tuesday.enable=t.target.checked}}},[e._v("\n                周二\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{attrs:{checked:e.form.edit.active.wednesday.enable},on:{change:function(t){e.form.edit.active.wednesday.enable=t.target.checked}}},[e._v("\n                周三\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{attrs:{checked:e.form.edit.active.thursday.enable},on:{change:function(t){e.form.edit.active.thursday.enable=t.target.checked}}},[e._v("\n                周四\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{attrs:{checked:e.form.edit.active.friday.enable},on:{change:function(t){e.form.edit.active.friday.enable=t.target.checked}}},[e._v("\n                周五\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{attrs:{checked:e.form.edit.active.saturday.enable},on:{change:function(t){e.form.edit.active.saturday.enable=t.target.checked}}},[e._v("\n                周六\n              ")])],1),e._v(" "),t("a-col",{attrs:{span:6}},[t("a-checkbox",{attrs:{checked:e.form.edit.active.sunday.enable},on:{change:function(t){e.form.edit.active.sunday.enable=t.target.checked}}},[e._v("\n                周日\n              ")])],1)],1)],1),e._v(" "),t("a-form-item",{attrs:{label:"通知配置"}},[t("a-space",[t("a-checkbox",{attrs:{checked:e.form.edit.notice.mail.enable},on:{change:function(t){e.form.edit.notice.mail.enable=t.target.checked}}},[e._v("\n              邮件\n            ")]),e._v(" "),t("a-input",{model:{value:e.form.edit.notice.mail.text,callback:function(t){e.$set(e.form.edit.notice.mail,"text",t)},expression:"form.edit.notice.mail.text"}})],1),e._v(" "),t("a-space",[t("a-checkbox",{attrs:{checked:e.form.edit.notice.qq.enable},on:{change:function(t){e.form.edit.notice.qq.enable=t.target.checked}}},[e._v("\n              腾讯\n            ")]),e._v(" "),t("a-input",{model:{value:e.form.edit.notice.qq.text,callback:function(t){e.$set(e.form.edit.notice.qq,"text",t)},expression:"form.edit.notice.qq.text"}})],1),e._v(" "),t("a-space",[t("a-checkbox",{attrs:{checked:e.form.edit.notice.wxUID.enable},on:{change:function(t){e.form.edit.notice.wxUID.enable=t.target.checked}}},[e._v("\n              微信\n            ")]),e._v(" "),t("a-input",{model:{value:e.form.edit.notice.wxUID.text,callback:function(t){e.$set(e.form.edit.notice.wxUID,"text",t)},expression:"form.edit.notice.wxUID.text"}})],1)],1)],1)],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports}}]);