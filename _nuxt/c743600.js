(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(t){t.exports=JSON.parse('{"name":"iberia","version":"1.1.0","private":true,"scripts":{"build":"nuxt generate & nuxt build","dev":"nuxt","format":"prettier --write ."},"dependencies":{"@nuxtjs/axios":"^5.13.6","ant-design-vue":"^1.7.8","nuxt":"^2.16.3","nuxt-clipboard":"^0.0.7","vue":"^2.7.14"},"devDependencies":{"@nuxt/postcss8":"^1.1.3","@nuxtjs/pwa":"^3.3.5","@tailwindcss/typography":"^0.5.9","autoprefixer":"^10.4.14","postcss":"^8.4.21","prettier":"^2.8.7","prettier-plugin-tailwindcss":"^0.2.5","tailwindcss":"^3.2.7"}}')},320:function(t,e,r){"use strict";r(31);var n=r(5);e.a=function(t){var e=t.$axios,r=t.app;e.defaults.timeout=6e3,e.onRequest((function(t){t.headers.Authorization="Bearer "+n.default.prototype.$storage.get("admin_token")})),e.onResponse((function(t){return 200===t.data.code?Promise.resolve(t.data):(n.default.prototype.$message.warn(t.data.code+" - "+t.data.msg),Promise.reject({response:t}))})),e.onError((function(t){switch(t.response||n.default.prototype.$message.error("500 - 网络异常"),t.response.status){case 401:r.store.dispatch("auth/user/logout");case 500:n.default.prototype.$message.error("500 - 服务器异常")}}))}},321:function(t,e,r){"use strict";r(45);var n=r(5),o=r(165);n.default.prototype.$storage={has:function(t){return Object.prototype.hasOwnProperty.call(window.localStorage,o.name+"_"+t)},set:function(t,data){var e=JSON.stringify(data);return window.localStorage.setItem(o.name+"_"+t,e)},get:function(t){var e=window.localStorage.getItem(o.name+"_"+t);return JSON.parse(e)},remove:function(t){return window.localStorage.removeItem(o.name+"_"+t)},clear:function(){return window.localStorage.clear()}}},322:function(t,e,r){"use strict";var n=r(5),o=r(686),c=r.n(o);n.default.use(c.a)},323:function(t,e,r){"use strict";var n=r(5),o=r(3),c=r.n(o);r(288);c.a.locale("zh-cn"),n.default.prototype.$moment=c.a},324:function(t,e,r){"use strict";r(378);var n=r(5);n.default.prototype.$up=function(data,t){return t>0&&data.splice(t-1,2,data[t],data[t-1]),data},n.default.prototype.$remove=function(data,t){return t>-1&&data.splice(t,1),data},n.default.prototype.$copy=function(data){return JSON.parse(JSON.stringify(data))}},677:function(t,e,r){"use strict";r.r(e);r(45);var n={props:{menu:Array},created:function(){screen.width<768&&(this.collapsed=!0)},data:function(){return{collapsed:!1}}},o=r(57),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("a-layout",{staticClass:"h-full min-h-screen"},[e("a-layout-sider",{attrs:{width:"180",collapsible:""},model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[e("NuxtLink",{staticClass:"flex flex-row items-center space-x-1 pt-6 pb-4",class:t.collapsed?"px-6":"px-4",attrs:{to:"/"}},[e("img",{staticClass:"inline h-9",attrs:{src:"/icon.png"}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],staticClass:"font-mono text-lg font-bold text-white"},[t._v(" IberiaEye ")])]),t._v(" "),e("a-menu",{attrs:{theme:"dark",mode:"inline",selectedKeys:[t.$route.path]}},t._l(t.menu,(function(r){return e("a-menu-item",{key:r.path,on:{click:function(e){return t.$router.push(r.path)}}},[e("a-icon",{attrs:{type:r.icon}}),t._v(" "),e("span",[t._v(t._s(r.name))])],1)})),1)],1),t._v(" "),e("a-layout",[e("a-layout-header",{staticClass:"bg-white px-6"},[e("a-icon",{attrs:{type:t.collapsed?"menu-unfold":"menu-fold"},on:{click:function(e){t.collapsed=!t.collapsed}}}),t._v(" "),e("div",{staticClass:"float-right space-x-2"},[e("a-button",{attrs:{type:"danger"},on:{click:function(e){return t.$store.dispatch("auth/".concat(t.$parent.$options.name,"/logout"))}}},[t._v(" 登出 ")])],1)],1),t._v(" "),e("a-layout-content",[t._t("default")],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports},689:function(t,e,r){"use strict";r(677);var n={name:"admin"},o=r(57),component=Object(o.a)(n,(function(){var t=this._self._c;return t("DashBoard",{attrs:{menu:[{name:"概览",icon:"home",path:"/admin/overview"},{name:"任务",icon:"dashboard",path:"/admin/task"},{name:"用户",icon:"user",path:"/admin/user"},{name:"日志",icon:"file-text",path:"/admin/log"},{name:"设备",icon:"code",path:"/admin/device"}]}},[t("nuxt-child",{staticClass:"space-y-4 p-4"})],1)}),[],!1,null,null,null);e.a=component.exports;installComponents(component,{DashBoard:r(677).default})},690:function(t,e,r){r(691),t.exports=r(692)},760:function(t,e,r){var content=r(761);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(161).default)("f6fa0a02",content,!0,{sourceMap:!1})},761:function(t,e,r){var n=r(145)((function(i){return i[1]}));n.push([t.i,".page-enter,.page-leave-active{opacity:0}.page-enter-active,.page-leave-active{transition:opacity .3s}.ant-form-item{margin-bottom:8px}",""]),n.locals={},t.exports=n},762:function(t,e,r){var content=r(763);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(161).default)("787fafef",content,!0,{sourceMap:!1})},763:function(t,e,r){var n=r(145)((function(i){return i[1]}));n.push([t.i,'*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 transparent;--tw-ring-shadow:0 0 transparent;--tw-shadow:0 0 transparent;--tw-shadow-colored:0 0 transparent;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.absolute{position:absolute}.relative{position:relative}.right-0{right:0}.top-0{top:0}.float-right{float:right}.float-left{float:left}.m-0{margin:0}.m-2{margin:.5rem}.my-6{margin-bottom:1.5rem;margin-top:1.5rem}.block{display:block}.inline{display:inline}.flex{display:flex}.table{display:table}.grid{display:grid}.h-9{height:2.25rem}.h-full{height:100%}.max-h-full{max-height:100%}.min-h-screen{min-height:100vh}.\\!w-24{width:6rem!important}.w-16{width:4rem}.w-2\\/3{width:66.666667%}.w-20{width:5rem}.w-64{width:16rem}.w-80{width:20rem}.w-\\[17rem\\]{width:17rem}.w-full{width:100%}.flex-1{flex:1 1 0%}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-x-4{-moz-column-gap:1rem;column-gap:1rem}.gap-y-2{row-gap:.5rem}.gap-y-3{row-gap:.75rem}.gap-y-4{row-gap:1rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:.25rem;margin-left:calc(.25rem*(1 - var(--tw-space-x-reverse)));margin-right:0;margin-right:calc(.25rem*var(--tw-space-x-reverse))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-left:.5rem;margin-left:calc(.5rem*(1 - var(--tw-space-x-reverse)));margin-right:0;margin-right:calc(.5rem*var(--tw-space-x-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:0;margin-bottom:calc(1rem*var(--tw-space-y-reverse));margin-top:1rem;margin-top:calc(1rem*(1 - var(--tw-space-y-reverse)))}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.bg-blue-400{background-color:#60a5fa;background-color:rgb(96 165 250/var(--tw-bg-opacity))}.bg-blue-400,.bg-gray-100{--tw-bg-opacity:1}.bg-gray-100{background-color:#f3f4f6;background-color:rgb(243 244 246/var(--tw-bg-opacity))}.bg-gray-400{background-color:#9ca3af;background-color:rgb(156 163 175/var(--tw-bg-opacity))}.bg-gray-400,.bg-red-400{--tw-bg-opacity:1}.bg-red-400{background-color:#f87171;background-color:rgb(248 113 113/var(--tw-bg-opacity))}.bg-white{background-color:#fff;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.bg-white,.bg-yellow-400{--tw-bg-opacity:1}.bg-yellow-400{background-color:#facc15;background-color:rgb(250 204 21/var(--tw-bg-opacity))}.p-4{padding:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-2{padding-bottom:.5rem;padding-top:.5rem}.py-4{padding-top:1rem}.pb-4,.py-4{padding-bottom:1rem}.pt-6{padding-top:1.5rem}.pt-8{padding-top:2rem}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.font-bold{font-weight:700}.\\!text-blue-500{color:#3b82f6!important;color:rgb(59 130 246/var(--tw-text-opacity))!important}.\\!text-blue-500,.\\!text-gray-500{--tw-text-opacity:1!important}.\\!text-gray-500{color:#6b7280!important;color:rgb(107 114 128/var(--tw-text-opacity))!important}.\\!text-green-500{color:#22c55e!important;color:rgb(34 197 94/var(--tw-text-opacity))!important}.\\!text-green-500,.\\!text-orange-500{--tw-text-opacity:1!important}.\\!text-orange-500{color:#f97316!important;color:rgb(249 115 22/var(--tw-text-opacity))!important}.\\!text-purple-500{color:#a855f7!important;color:rgb(168 85 247/var(--tw-text-opacity))!important}.\\!text-purple-500,.\\!text-red-500{--tw-text-opacity:1!important}.\\!text-red-500{color:#ef4444!important;color:rgb(239 68 68/var(--tw-text-opacity))!important}.\\!text-teal-500{color:#14b8a6!important;color:rgb(20 184 166/var(--tw-text-opacity))!important}.\\!text-teal-500,.\\!text-yellow-500{--tw-text-opacity:1!important}.\\!text-yellow-500{color:#eab308!important;color:rgb(234 179 8/var(--tw-text-opacity))!important}.text-blue-500{--tw-text-opacity:1;color:#3b82f6;color:rgb(59 130 246/var(--tw-text-opacity))}.text-gray-600{--tw-text-opacity:1;color:#4b5563;color:rgb(75 85 99/var(--tw-text-opacity))}.text-violet-500{color:#8b5cf6;color:rgb(139 92 246/var(--tw-text-opacity))}.text-violet-500,.text-white{--tw-text-opacity:1}.text-white{color:#fff;color:rgb(255 255 255/var(--tw-text-opacity))}.shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:0 0 transparent,0 0 transparent,0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.blur{--tw-blur:blur(8px);filter:blur(8px) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.duration-300{transition-duration:.3s}.hover\\:text-blue-700:hover{--tw-text-opacity:1;color:#1d4ed8;color:rgb(29 78 216/var(--tw-text-opacity))}.hover\\:text-violet-700:hover{--tw-text-opacity:1;color:#6d28d9;color:rgb(109 40 217/var(--tw-text-opacity))}',""]),n.locals={},t.exports=n},764:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return d})),r.d(e,"mutations",(function(){return f})),r.d(e,"actions",(function(){return m}));r(60),r(52),r(70),r(95),r(96);var n=r(39),o=(r(61),r(31),r(59),r(5));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d=function(){return{data:{device:[],screen:{},control:{}}}},f={setDevice:function(t,data){t.data.device=data.loadDeviceList.map((function(t){return l(l({},t),{},{status:"0"===t.status?"离线":"1"===t.status?"在线":"1001"===t.status?"日常":"1002"===t.state?"肉鸽":"未知"})}))},setScreen:function(t,data){t.data.screen=l(l({},t.data.screen),data)},setControl:function(t,data){t.data.control[data.deviceToken]=data.url}},m={getDevice:function(t){var e=t.commit,r=t.dispatch;return this.$axios.get("/showLoadedDevice").then((function(t){var data=t.data;e("setDevice",data),r("getScreen")}))},getScreen:function(t){var e=this,r=t.state,n=t.commit,o=t.dispatch;r.data.device.forEach((function(t){t.region&&e.$axios.post("getDeviceScreenshotInfo",t).then((function(e){var data=e.data;n("setScreen",data),o("getControl",{device:t.deviceToken})}))}))},getControl:function(t,e){var r=t.commit;this.$axios.post("getDeviceRemoteControlUrl",e).then((function(t){var data=t.data;r("setControl",{deviceToken:e.deviceToken,url:data})}))},refreshDevice:function(t){(0,t.dispatch)("getDevice").then((function(){o.default.prototype.$message.success("刷新成功")}))},addDevice:function(t,e){var r=t.dispatch;this.$axios.post("/addDevice",e).then((function(){o.default.prototype.$message.success("添加成功"),r("getDevice")}))},editDevice:function(t,e){var r=t.dispatch;this.$axios.post("/updateDevice",e).then((function(){o.default.prototype.$message.success("编辑成功"),r("getDevice")}))},deleteDevice:function(t,e){var r=this,n=t.dispatch;o.default.prototype.$confirm({title:"确认删除?",content:"将立即删除设备！",okText:"确认",okType:"danger",cancelText:"取消",onOk:function(){r.$axios.post("/delDevice",e).then((function(){o.default.prototype.$message.success("删除成功"),n("getDevice")}))}})}}},765:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return l})),r.d(e,"mutations",(function(){return d})),r.d(e,"actions",(function(){return f}));r(60),r(52),r(70),r(31),r(95),r(59),r(96);var n=r(39);r(61),r(35),r(81),r(114);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l=function(){return{page:{total:0,size:10,current:1},data:{log:[]},table:{column:[{title:"等级",dataIndex:"level",key:"level",scopedSlots:{customRender:"level"},width:"20%",align:"center"},{title:"标题",dataIndex:"title",key:"title",align:"center"},{title:"时间",dataIndex:"time",key:"time",width:"30%",align:"center"}]}}},d={setLog:function(t,data){t.page.current=data.current,t.page.total=data.total,t.data.log=data.records.map((function(t,e){return c(c({},t),{},{key:e,device:"",time:t.time.replace("T"," ")})}))},setDevice:function(t,data){t.data.log[data.key].device=data.device}},f={getLog:function(t,e){var r=t.state,n=t.commit;this.$axios.get("/showLog?current=".concat(e.current,"&size=").concat(r.page.size)).then((function(t){var data=t.data;n("setLog",data)}))},searchLog:function(t,e){var r=t.state,n=t.commit;this.$axios.get("/searchLogByAccount?account=".concat(e.account,"&current=").concat(e.current,"&size=").concat(r.page.size)).then((function(t){var data=t.data;n("setLog",data)}))},getDevice:function(t,e){var r=t.commit;this.$axios.get("/getDeviceByToken?deviceToken=".concat(e.from)).then((function(t){r("setDevice",{id:e.id,key:e.key,device:t.data.deviceName})}))}}},766:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return n})),r.d(e,"mutations",(function(){return o})),r.d(e,"actions",(function(){return c}));var n=function(){return{data:{statistic:{}}}},o={setStatistic:function(t,data){t.data.statistic=data}},c={getStatistic:function(t){var e=t.commit;this.$axios.get("/getStatistics").then((function(t){var data=t.data;e("setStatistic",data)}))},editPassword:function(t,e){this.$axios.post("/changeAdminPassword",e).then((function(){Vue.prototype.$message.success("修改成功")}))}}},767:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return o})),r.d(e,"mutations",(function(){return c})),r.d(e,"actions",(function(){return l}));r(61),r(45),r(60),r(35),r(81),r(67);var n=r(5),o=function(){return{data:{free:[],lock:[],freeze:[]},table:{column:[{title:"编号",dataIndex:"id",key:"id",align:"center"},{title:"昵称",dataIndex:"name",key:"name",width:"40%",align:"center"},{title:"类型",dataIndex:"type",key:"type",align:"center"},{title:"操作",key:"action",scopedSlots:{customRender:"action"},width:"25%",align:"center"}],special:[{title:"编号",dataIndex:"id",key:"id",align:"center"},{title:"时间",dataIndex:"time",key:"time",width:"70%",align:"center"}]}}},c={setFree:function(t,data){t.data.free=data.map((function(t){return{id:t.id,name:t.name,type:t.taskType}}))},setLock:function(t,data){t.data.lock=data.map((function(t){return{id:t.account.id,name:t.account.name,type:t.account.taskType,token:t.deviceToken}}))},setFreeze:function(t,data){t.data.freeze=Object.keys(data).map((function(t){return{id:t,time:data[t].slice(0,19).replace("T"," ")}}))}},l={getAll:function(t){var e=t.dispatch;e("getFree"),e("getLock"),e("getFreeze")},refreshAll:function(t){var e=t.dispatch;e("getFree"),e("getLock"),e("getFreeze"),n.default.prototype.$message.success("刷新成功")},getFree:function(t){var e=t.commit;this.$axios.get("/showFreeTaskList").then((function(t){var data=t.data;e("setFree",data)}))},getLock:function(t){var e=t.commit;this.$axios.get("/showLockTaskList").then((function(t){var data=t.data;e("setLock",data)}))},getFreeze:function(t){var e=t.commit;this.$axios.get("/showFreezeTaskList").then((function(t){var data=t.data;e("setFreeze",data)}))},removeTask:function(t,e){var r=t.dispatch;this.$axios.post("/tempRemoveTask",e).then((function(){n.default.prototype.$message.success("移除成功"),r("getAll")}))},unlockTask:function(t,e){var r=t.dispatch;this.$axios.post("/forceUnlockOneTask",e).then((function(){n.default.prototype.$message.success("释放成功"),r("getAll")}))},insertTask:function(t,e){var r=t.dispatch;this.$axios.post("/tempInsertTask",e).then((function(){n.default.prototype.$message.success("插队成功"),r("getAll")}))},refreshTask:function(t){var e=this,r=t.dispatch;n.default.prototype.$confirm({title:"确认刷新?",content:"将立即从数据库刷新任务！",okText:"确认",okType:"danger",cancelText:"取消",onOk:function(){e.$axios.post("/forceLoadAllTask").then((function(){n.default.prototype.$message.success("刷新成功"),r("getAll")}))}})}}},768:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return o})),r.d(e,"mutations",(function(){return c})),r.d(e,"actions",(function(){return l}));r(61),r(45),r(67),r(114);var n=r(5),o=function(){return{page:{total:0,size:10,current:1,keyword:""},data:{user:[],rawUser:[]},table:{column:[{title:"编号",dataIndex:"id",key:"id",align:"center"},{title:"昵称",dataIndex:"name",key:"name",width:"15%",align:"center"},{title:"账号",dataIndex:"account",key:"account",scopedSlots:{customRender:"account"},width:"15%",align:"center"},{title:"理智",dataIndex:"sanity",key:"sanity",scopedSlots:{customRender:"sanity"},align:"center"},{title:"服务",dataIndex:"server",key:"server",align:"center"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"},align:"center"},{title:"有效期",dataIndex:"expire",key:"expire",width:"15%",align:"center"},{title:"操作",key:"action",scopedSlots:{customRender:"action"},width:"15%",align:"center"}]}}},c={setUser:function(t,data){t.page.current=data.current,t.page.total=data.total,t.data.rawUser=data.records,t.data.user=data.records.map((function(t,e){return{key:e,id:t.id,name:t.name,account:t.account,server:t.server?"B服":"官服",expire:t.expireTime.slice(0,10),sanity:t.freeze?0:t.san||0,status:t.delete?"删除":t.freeze?"冻结":new Date(t.expireTime).getTime()>Date.now()?"正常":"过期"}}))},setSearch:function(t,data){t.page.keyword=data},lastPage:function(t){t.page.current=Math.floor(t.page.total/t.page.size)+1}},l={getUser:function(t,e){var r=t.state,n=t.commit;return this.$axios.get("/showAccount?current=".concat(e.current,"&size=").concat(r.page.size)).then((function(t){var data=t.data;n("setUser",data)}))},searchUser:function(t,e){var r=t.state,n=t.commit;return this.$axios.get("/searchAccount?current=".concat(e.current,"&keyword=").concat(r.page.keyword,"&size=").concat(r.page.size)).then((function(t){var data=t.data;n("setUser",data)}))},refreshUser:function(t){var e=t.state,r=t.dispatch;e.page.keyword.length?r("searchUser",{current:e.page.current}).then((function(){n.default.prototype.$message.success("刷新成功")})):r("getUser",{current:e.page.current}).then((function(){n.default.prototype.$message.success("刷新成功")}))},addUser:function(t,e){var r=t.commit,o=t.dispatch;this.$axios.post("/addAccount",e).then((function(){n.default.prototype.$message.success("新增成功"),r("lastPage"),o("refreshUser")}))},editUser:function(t,e){var r=t.dispatch;this.$axios.post("/updateAccount",e).then((function(){n.default.prototype.$message.success("编辑成功"),r("refreshUser")}))},deleteUser:function(t,e){var r=this,o=t.dispatch;n.default.prototype.$confirm({title:"确认删除?",content:"将立即删除用户！",okText:"确认",okType:"danger",cancelText:"取消",onOk:function(){r.$axios.post("/delAccount",e).then((function(){n.default.prototype.$message.success("删除成功"),o("refreshUser")}))}})},repairUser:function(t,e){var r=t.dispatch;this.$axios.post("/resetAccountDynamicInfo",e).then((function(){n.default.prototype.$message.success("修复成功"),r("refreshUser")}))},startTask:function(t,e){this.$axios.post("/startAccountByAdmin",e).then((function(){n.default.prototype.$message.success("插队成功")}))}}},769:function(t,e,r){"use strict";r.r(e),r.d(e,"actions",(function(){return o}));var n=r(5),o={login:function(t,e){var r=this;this.$axios.post("/adminLogin",e).then((function(t){var data=t.data;n.default.prototype.$storage.set("admin_token",data.token),n.default.prototype.$message.success("登录成功"),r.$router.push("/admin/overview")}))},logout:function(){n.default.prototype.$storage.remove("admin_token"),this.$router.push("/auth/admin")}}},770:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return n}));var n=function(){return{admin:{status:{"正常":"blue","冻结":"green","过期":"orange","删除":"red"},log:{INFO:"blue",WARN:"orange",ERROR:"red"}}}}},975:function(t,e,r){var map={"./af":449,"./af.js":449,"./ar":450,"./ar-dz":451,"./ar-dz.js":451,"./ar-kw":452,"./ar-kw.js":452,"./ar-ly":453,"./ar-ly.js":453,"./ar-ma":454,"./ar-ma.js":454,"./ar-sa":455,"./ar-sa.js":455,"./ar-tn":456,"./ar-tn.js":456,"./ar.js":450,"./az":457,"./az.js":457,"./be":458,"./be.js":458,"./bg":459,"./bg.js":459,"./bm":460,"./bm.js":460,"./bn":461,"./bn-bd":462,"./bn-bd.js":462,"./bn.js":461,"./bo":463,"./bo.js":463,"./br":464,"./br.js":464,"./bs":465,"./bs.js":465,"./ca":466,"./ca.js":466,"./cs":467,"./cs.js":467,"./cv":468,"./cv.js":468,"./cy":469,"./cy.js":469,"./da":470,"./da.js":470,"./de":471,"./de-at":472,"./de-at.js":472,"./de-ch":473,"./de-ch.js":473,"./de.js":471,"./dv":474,"./dv.js":474,"./el":475,"./el.js":475,"./en-au":476,"./en-au.js":476,"./en-ca":477,"./en-ca.js":477,"./en-gb":478,"./en-gb.js":478,"./en-ie":479,"./en-ie.js":479,"./en-il":480,"./en-il.js":480,"./en-in":481,"./en-in.js":481,"./en-nz":482,"./en-nz.js":482,"./en-sg":483,"./en-sg.js":483,"./eo":484,"./eo.js":484,"./es":485,"./es-do":486,"./es-do.js":486,"./es-mx":487,"./es-mx.js":487,"./es-us":488,"./es-us.js":488,"./es.js":485,"./et":489,"./et.js":489,"./eu":490,"./eu.js":490,"./fa":491,"./fa.js":491,"./fi":492,"./fi.js":492,"./fil":493,"./fil.js":493,"./fo":494,"./fo.js":494,"./fr":495,"./fr-ca":496,"./fr-ca.js":496,"./fr-ch":497,"./fr-ch.js":497,"./fr.js":495,"./fy":498,"./fy.js":498,"./ga":499,"./ga.js":499,"./gd":500,"./gd.js":500,"./gl":501,"./gl.js":501,"./gom-deva":502,"./gom-deva.js":502,"./gom-latn":503,"./gom-latn.js":503,"./gu":504,"./gu.js":504,"./he":505,"./he.js":505,"./hi":506,"./hi.js":506,"./hr":507,"./hr.js":507,"./hu":508,"./hu.js":508,"./hy-am":509,"./hy-am.js":509,"./id":510,"./id.js":510,"./is":511,"./is.js":511,"./it":512,"./it-ch":513,"./it-ch.js":513,"./it.js":512,"./ja":514,"./ja.js":514,"./jv":515,"./jv.js":515,"./ka":516,"./ka.js":516,"./kk":517,"./kk.js":517,"./km":518,"./km.js":518,"./kn":519,"./kn.js":519,"./ko":520,"./ko.js":520,"./ku":521,"./ku.js":521,"./ky":522,"./ky.js":522,"./lb":523,"./lb.js":523,"./lo":524,"./lo.js":524,"./lt":525,"./lt.js":525,"./lv":526,"./lv.js":526,"./me":527,"./me.js":527,"./mi":528,"./mi.js":528,"./mk":529,"./mk.js":529,"./ml":530,"./ml.js":530,"./mn":531,"./mn.js":531,"./mr":532,"./mr.js":532,"./ms":533,"./ms-my":534,"./ms-my.js":534,"./ms.js":533,"./mt":535,"./mt.js":535,"./my":536,"./my.js":536,"./nb":537,"./nb.js":537,"./ne":538,"./ne.js":538,"./nl":539,"./nl-be":540,"./nl-be.js":540,"./nl.js":539,"./nn":541,"./nn.js":541,"./oc-lnc":542,"./oc-lnc.js":542,"./pa-in":543,"./pa-in.js":543,"./pl":544,"./pl.js":544,"./pt":545,"./pt-br":546,"./pt-br.js":546,"./pt.js":545,"./ro":547,"./ro.js":547,"./ru":548,"./ru.js":548,"./sd":549,"./sd.js":549,"./se":550,"./se.js":550,"./si":551,"./si.js":551,"./sk":552,"./sk.js":552,"./sl":553,"./sl.js":553,"./sq":554,"./sq.js":554,"./sr":555,"./sr-cyrl":556,"./sr-cyrl.js":556,"./sr.js":555,"./ss":557,"./ss.js":557,"./sv":558,"./sv.js":558,"./sw":559,"./sw.js":559,"./ta":560,"./ta.js":560,"./te":561,"./te.js":561,"./tet":562,"./tet.js":562,"./tg":563,"./tg.js":563,"./th":564,"./th.js":564,"./tk":565,"./tk.js":565,"./tl-ph":566,"./tl-ph.js":566,"./tlh":567,"./tlh.js":567,"./tr":568,"./tr.js":568,"./tzl":569,"./tzl.js":569,"./tzm":570,"./tzm-latn":571,"./tzm-latn.js":571,"./tzm.js":570,"./ug-cn":572,"./ug-cn.js":572,"./uk":573,"./uk.js":573,"./ur":574,"./ur.js":574,"./uz":575,"./uz-latn":576,"./uz-latn.js":576,"./uz.js":575,"./vi":577,"./vi.js":577,"./x-pseudo":578,"./x-pseudo.js":578,"./yo":579,"./yo.js":579,"./zh-cn":288,"./zh-cn.js":288,"./zh-hk":580,"./zh-hk.js":580,"./zh-mo":581,"./zh-mo.js":581,"./zh-tw":582,"./zh-tw.js":582};function n(t){var e=o(t);return r(e)}function o(t){if(!r.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}n.keys=function(){return Object.keys(map)},n.resolve=o,t.exports=n,n.id=975}},[[690,9,1,10]]]);